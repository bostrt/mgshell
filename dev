#!/bin/bash
source ./v/bin/activate

python setup.py clean
python setup.py develop
unset -f ns
unset -f pod
unset -f log
unset -f root

eval "$(_NS_COMPLETE=source_bash ns)"
eval "$(_POD_COMPLETE=source_bash pod)"
eval "$(_LOG_COMPLETE=source_bash log)"
eval "$(_MGSHELL_COMPLETE=source_bash mgshell)"

source wrappers/*

#function _update_ps1() {
#    ret=$(~/code/mgshell/a.out)
#    if [ "$ret" ]; then
#      echo CHANGE
#      #PS1=$ret
#    else
#      echo REVERT
##      #PS1=$MG_ORIGINAL_PS1
#    fi
#}

#MG_ORIGINAL_PS1=$PS1

#if [[ $TERM != linux && ! $PROMPT_COMMAND =~ _update_ps1 ]]; then
#    PROMPT_COMMAND="_update_ps1; $PROMPT_COMMAND"
#fi
